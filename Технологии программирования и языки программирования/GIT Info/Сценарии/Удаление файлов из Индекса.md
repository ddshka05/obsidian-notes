1. Удалить файлы из индекса можно с помощью функции [[git restore]] для версии гит 2.23+

	`git restore --staged file.txt # удаляет файл file.txt из Индекса

Если после `--staged` указать точку, то будут удалены все файлы из индекса

	git restore --staged .

Также можно интерактивно убрать файлы из индекса посредством команд (См.: [[Работа с интерактивным режимом]])

	git reset -p file.txt  # Пошаговый выбор изменений для удаления из индекса

Третий способ - через команду [[git rm]].

	git rm --cached file.txt  # Полностью прекращает отслеживание файла (оставляет в рабочей директории)

| Команда                | Удаляет из индекса | Сохраняет в рабочей директории | Прекращает отслеживание |
| ---------------------- | ------------------ | ------------------------------ | ----------------------- |
| `git restore --staged` | ✅                  | ✅                              | ❌                       |
| `git reset HEAD`       | ✅                  | ✅                              | ❌                       |
| `git rm --cached`      | ✅                  | ✅                              | ✅                       |
| `git reset -p`         | Частично           | ✅                              | ❌                       |

То есть только [[git rm]] можно вернуть файл в рабочую директорию.